{% load to_price %}

<div class="card" id="invoice-lines-app">
    <div class="card-body">
        <div class="table-responsive">

            <table class="table table-striped">
                <thead>
                    <th class="bordered">
                        ردیف
                    </th>
                    {% if not product and not service %}

                    <th class="bordered">
                        شرح
                    </th>
                    {% endif %}


                    {% if not invoice %}

                    <th class="bordered">
                        فاکتور
                    </th>
                    <th class="bordered">
                        تاریخ
                    </th>
                    {% endif %}


                    <th class="bordered">
                        تعداد
                    </th>

                    <th class="bordered">
                        فی
                    </th>

                    <th class="bordered">
                        جمع
                        <small class="text-muted">

                            (&nbsp;{{CURRENCY}}&nbsp;)
                        </small>
                    </th>

                </thead>
                <tbody>
                    <tr v-for="invoice_line in invoice_lines">
                        <td class="bordered">
                            <span v-text="invoice_line.row"></span>
                        </td>

                        <td class="bordered">
                            <span v-text="invoice_line.product_or_service.title"></span>
                        </td>


                        <td class="bordered">
                            <span v-text="invoice_line.quantity"></span>
                            <span v-text="invoice_line.unit_name"></span>
                        </td>

                        <td class="bordered">
                            <span v-text="to_price(invoice_line.unit_price)"></span>
                        </td>

                        <td class="bordered">
                            <span v-text="to_price(invoice_line.unit_price*invoice_line.quantity)"></span>
                        </td>

                    </tr>

                    <tr>
                        <td colspan="4">
                            <div class="text-left">
                                جمع
                            </div>
                        </td>

                        <td class="bordered">
                            <span v-text="to_price(sum_total())"></span>
                            {{CURRENCY}}
                        </td>

                    </tr>

                    {% if invoice.ship_fee > 0 %}

                    <tr>
                        <td colspan="4">
                            <div class="text-left">

                                هزینه ارسال
                            </div>
                        </td>

                        <td class="bordered">

                            <span v-text="to_price({{invoice.ship_fee}})">
                            </span> {{CURRENCY}}
 
                        </td>

                    </tr>
                    {% endif %}
                    <tr>
                        <td colspan="4">
                            <div class="text-left">

                                <span>
                                    {{invoice.tax_percent}}
                                </span>
                                درصد
                                مالیات بر ارزش افزوده
                            </div>
                        </td>

                        <td class="bordered">
                            <span v-text="to_price({{invoice.tax_amount}})">
                            </span> {{CURRENCY}}
                        </td>

                    </tr>
                    {% if invoice.discount %}

                    <tr>
                        <td colspan="4">
                            <div class="text-left">

                                تخفیف
                            </div>
                        </td>

                        <td class="bordered">

                            <span v-text="to_price({{invoice.discount}})">
                            </span> {{CURRENCY}}
                            
                        </td>

                    </tr>
                    {% endif %}
                    <tr>
                        <td colspan="4">

                            <div class="text-left">

                                
                                <span class="h6">
                                  {{invoice.sum_total|to_horuf_rial}} ریال
                                </span>
                            </div>
                            <div class="text-left">

                                
                                <span class="h5">
                                  {{invoice.sum_total|to_horuf}} تومان
                                </span>
                            </div>

                        </td>

                        <td class="bordered ">
                            <h6>
                                {{invoice.sum_total|to_price_rial}}
                            </h6>
                            <h5>
                                {{invoice.sum_total|to_price}}
                            </h5>
                        </td>

                    </tr>






                </tbody>
            </table>
        </div>

    </div>
</div>