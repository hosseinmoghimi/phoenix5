<script>
    let cheques = JSON.parse(`{{cheques_s|escapejs}}`)
    let cheques_app = new Vue({
        el: "#cheques-app",
        data: {
            cheques: cheques,
            title: "چک تسویه کرایه بهمن ماه",
        },
        methods: {
            to_price: function (vall) {
                return to_price(vall, "")
            },
            add_cheque: function () {
                let payload = {
                    csrfmiddlewaretoken: csrfmiddlewaretoken,
                    title: this.title,
                }
                let url = "{% url 'accounting:add_cheque' %}"
                $.post(url, payload).done((data) => {
                    if (data.result === 'SUCCEED') {
                        cheques_app.cheques.push(data.cheque)
                        cheques_app.title = ""
                    }
                })
            }
        }
    })
</script>