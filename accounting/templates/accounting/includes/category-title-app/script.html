<script>
    let category_title_app = new Vue({
        el: "#category-title-app",
        data: {
            // category_title: "{{product_or_service.category_title}}",
            product_or_service_category_id: "{{product_or_service.product_or_service_category_id}}",
            // product_or_service_category_get_absolute_url: "{{product_or_service.product_or_service_category_id}}",
            waiting: false,
            product_or_service_category:JSON.parse("{{product_or_service_category_s|escapejs}}"),
            edit: false,
        },
        methods: {
            change_product_or_service_category: function () {
                category_title_app.waiting = true
                let payload = {
                    csrfmiddlewaretoken: csrfmiddlewaretoken,
                    product_or_service_category_id: parseInt(this.product_or_service_category_id),
                    product_or_service_id: parseInt("{{product_or_service.pk}}"),
                }
                let url = "{% url 'accounting:change_product_or_service_category' %}"
                // console.log(payload)
                $.post(url, payload).done((data) => {
                    category_title_app.edit = false
                    category_title_app.waiting = false
                    // console.log(data)
                    if (data.result === 'SUCCEED') {
                        
                        category_title_app.product_or_service_category = data.product_or_service_category
                        // category_title_app.product_or_service_category_id = data.product_or_service_category_id
                        // category_title_app.product_or_service_category_title = data.product_or_service_category_title
                    }
                })
            }
        }
    })
</script>