<script>
    let currency_coef = 1 
</script>

{% if RIAL %}
<script>
    currency_coef = 10
</script>
{% endif %}

 
<script>
    let invoice_lines_app_data = {
        invoice_lines: JSON.parse(`{{invoice_lines_s|escapejs}}`),
    }
    let invoice_lines_app_methods = {
        to_price: function (vall) {
            return to_price(vall * currency_coef, "")
        },
        sum_total: function () {
            let sum = 0
            this.invoice_lines.forEach(invoice_line => {
                sum += invoice_line.quantity * invoice_line.unit_price

            })
            return sum
        }
    }
</script>
<script>
    let invoice_lines_app = new Vue({
        el: "#item-invoice-lines-app",
        data: invoice_lines_app_data,
        methods: invoice_lines_app_methods,
    })
</script>